/* jQuery Mathenticate - v0.2.0 */
(function(e,t,n,r){function h(t,n){this.element=t,this.$element=e(this.element),n!==r&&n.operator==="random"&&(n.operator=a[Math.floor(Math.random()*a.length)]),this.options=e.extend({},s,n),this._defaults=s,this._name=i,this.init()}var i="mathenticate",s={attrs:{"class":"mathenticate"},bounds:[1,10],insertWhere:"submit",insertHow:"before",operator:"+"},o,u={first:0,second:0},a=["+","-","*","/"],f,l,c;h.prototype={init:function(){l(this),this.generate(),f(this);var e=this;this.$element.on("submit",function(t){if(e.$auth.val()!=o)return t.preventDefault(),!1})},generate:function(){var e,t,n,r,i=this.options.bounds;e=c(i[0],i[1]),t=c(i[0],i[1]);switch(this.options.operator){case"add":case"plus":case"+":r="+",o=e+t;break;case"subtract":case"minus":case"-":if(e<t){var s=e;e=t,t=s}r="-",o=e-t;break;case"multiply":case"*":r="x",o=e*t;break;case"divide":case"/":if(e<t){var s=e;e=t,t=s}r="/",o=e/t}n=e+" "+r+" "+t+" = ?",this.$auth.attr("placeholder",n),u.first=e,u.second=t}},l=function(t){t.$auth=e('<input type="text" name="mathenticate" />'),e.each(t.options.attrs,function(e,n){t.$auth.attr(e,n)})},f=function(t){var n,r=e(t.options.insertWhere);t.options.insertWhere==="submit"&&(n=t.$element.find(":submit"),r=e(n[n.length-1]));switch(t.options.insertHow){case"into":t.$auth.appendTo(r);break;case"after":t.$auth.insertAfter(r);break;case"before":default:t.$auth.insertBefore(r)}},c=function(e,t){return Math.floor(Math.random()*(e-t+1)+t)},e.fn[i]=function(t){return this.each(function(){e.data(this,"plugin_"+i)||e.data(this,"plugin_"+i,new h(this,t))})}})(jQuery,window,document);